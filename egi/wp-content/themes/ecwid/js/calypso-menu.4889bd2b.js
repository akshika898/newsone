$(function(){function e(){$(".calypso-menu__item").removeClass("calypso-menu__item--active"),n.hasClass("calypso-menu__dropdown--hidden")||n.addClass("calypso-menu__dropdown--hidden"),setTimeout(function(){0==s&&$(".calypso-menu__dropdown-overflow").attr("style","")},200),s=!1}var o,n=$(".calypso-menu__dropdown"),s=!1,a=$(".calypso-menu__dropdown-overflow").width(),t="ontouchstart"in document.documentElement;openDropDown=function(t,c){n.removeClass("calypso-menu__dropdown--hidden");var i=t.get(0);offsetLeft=1*i.offsetLeft+i.clientWidth/2-a/2,void 0!==(o=t.attr("data-item"))?(itemDropdown=$(".calypso-menu__dropdown-item").get(o),$(".calypso-menu__dropdown-overflow").height($(itemDropdown).height()),s?((c.type=o==$(".calypso-menu__item--active").attr("data-item"))?e():($(".calypso-menu__item").removeClass("calypso-menu__item--active"),t.addClass("calypso-menu__item--active")),n.stop().animate({left:offsetLeft},300),$(".calypso-menu__dropdown-item").removeClass("calypso-menu__dropdown-item--active"),$(".calypso-menu__dropdown-item--item-"+o).addClass("calypso-menu__dropdown-item--active")):(t.addClass("calypso-menu__item--active"),n.css("left",offsetLeft),$(".calypso-menu__dropdown-item").removeClass("calypso-menu__dropdown-item--active"),$(".calypso-menu__dropdown-item--item-"+o).addClass("calypso-menu__dropdown-item--active"))):e(),s=!$(".calypso-menu").hasClass("calypso-menu--hpcru")},$(".calypso-menu__item").on("click mouseenter",function(o){"mouseenter"==o.type&&t||$(this).hasClass("calypso-menu__item--mobile")||($(this).hasClass("calypso-menu__item--dropdown")?o.preventDefault():e(),"undefined"!=typeof toMenuClose&&clearTimeout(toMenuClose),openDropDown($(this),o))}),$(".calypso-menu__subitem").mouseover(function(){$(this).find(".chevron-right--EW19").addClass("chevron-right--EW19-active")}),$(".calypso-menu__subitem").mouseleave(function(){$(this).find(".chevron-right--EW19").removeClass("chevron-right--EW19-active")}),n.mouseleave(function(){e()}),n.mouseenter(function(){"undefined"!=typeof toMenuClose&&clearTimeout(toMenuClose)}),$(".calypso-menu__item").mouseleave(function(){toMenuClose=setTimeout(e,200)}),$(".hpc-head.hpc-animate").addClass("hpc-animate--animated")}),$(function(){function e(){n.removeClass("calypso-menu--mobile-open"),s.removeClass("calypso-menu__mobile--active"),$(".calypso-menu__burger-box").removeClass("calypso-menu__burger-box--active"),$("body").css("overflow","auto"),o=!1}var o=!1,n=$(".calypso-menu"),s=$(".calypso-menu__mobile");$(".calypso-menu__burger-box").click(function(){o?e():(n.addClass("calypso-menu--mobile-open"),s.addClass("calypso-menu__mobile--active"),$(this).addClass("calypso-menu__burger-box--active"),$("body").css("overflow","hidden"),o=!0)}),$(".calypso-menu__background").click(function(){e()}),$(".calypso-menu__mobile-items > li > span").click(function(){if(newActive=$(this).parent(),newActive.hasClass("calypso-menu__mobile-menu--active"))return newActive.removeClass("calypso-menu__mobile-menu--active"),void newActive.find(".calypso-menu__mobile-dropdown-menu").hide("fast");newActive.addClass("calypso-menu__mobile-menu--active"),newActive.find(".calypso-menu__mobile-dropdown-menu").show("fast",function(){mobileMenuHeight=s.height()})})}),$(function(){var e=$(".calypso-search");searchBtn=$("#search-button"),searchField=$("#s",e),searchBtn.bind("click",function(o){e.hasClass("calypso-search--opened")&&searchField.val()||(e.hasClass("calypso-search--opened")||e.addClass("calypso-search--opened"),searchField.focus(),(o=o||window.event).preventDefault?o.preventDefault():o.returnValue=!1)}),$(document).bind("click",function(o){$(o.target).closest(".calypso-search").length||e.removeClass("calypso-search--opened")})}),$(document).ready(function(){var e=$(window).scrollTop(),o=$("#menu-EW19").find(".calypso-menu");$(window).on("load scroll",function(){var n=1*e-1*$(window).scrollTop();e=$(window).scrollTop();var s=o.outerHeight();$(".main-container").offset()&&$(".main-container").offset().top&&(s+=$(".main-container").offset().top),n>0?o.removeClass("calypso-menu--hidden"):n<0&&o.addClass("calypso-menu--hidden"),e>s?o.addClass("calypso-menu--fixed"):(o.removeClass("calypso-menu--fixed"),o.removeClass("calypso-menu--hidden"))})});